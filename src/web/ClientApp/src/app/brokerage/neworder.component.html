<section>
  <h5>Brokerage Order</h5>
  <div class="alert alert-danger" *ngIf="errorMessage">{{errorMessage}}</div>
  <div>
    <div class="row">
      <div class="col-md">
        <app-stock-search
              [ticker]="selectedTicker"
              label="Ticker"
              placeholder="New position symbol"
              (tickerSelected)="onTickerSelected($event)"
              cssClass="form-control">
          </app-stock-search>
      </div>
      <div class="col-md">
        <label for="price" class="form-label">Price</label>
        <input
              type="number"
              class="form-control"
              id="price"
              step="0.01"
              [(ngModel)]="price">
      </div>
      <div class="col-md">
        <label for="stocksToBuy" class="form-label"># of Shares</label>
        <input
              type="number"
              class="form-control"
              id="stocksToBuy"
              [(ngModel)]="numberOfShares"
              (ngModelChange)="numberOfSharesChanged()">
      </div>
      <div class="col-md" >
        <label for="brokerageOrderType" class="form-label">Order Type</label>
        <select class="form-select" [(ngModel)]="brokerageOrderType" id="brokerageOrderType" (ngModelChange)="brokerageOrderTypeChanged()">
          <option value="Limit">Limit</option>
          <option value="Market">Market</option>
          <option value="StopMarket">StopMarket</option>
        </select>
      </div>
      <div class="col-md" >
        <label for="brokerageOrderDuration" class="form-label">Order Duration</label>
        <select class="form-select" [(ngModel)]="brokerageOrderDuration" id="brokerageOrderDuration">
          <option *ngFor="let duration of orderDurations" [value]="duration.key">{{duration.value}}</option>
        </select>
      </div>
    </div>
    <div class="row" *ngIf="quote">
      <div class="col-md"><div class="stat-label">bid</div><div>{{ quote.bidPrice | currency }} x {{ quote.bidSize }}</div></div>
      <div class="col-md"><div class="stat-label">ask</div><div>{{ quote.askPrice | currency }} x {{ quote.askSize }}</div></div>
      <div class="col-md"><div class="stat-label">last</div><div>{{ quote.lastPrice | currency }} x {{ quote.lastSize }}</div></div>
      <div class="col-md"><div class="stat-label">exchange</div><div>{{ quote.exchangeName }}</div></div>
      <div class="col-md"><div class="stat-label">total</div><div>{{total | currency}}</div></div>
    </div>
    <div class="row mt-3">
      <div class="col-md-6" >
        <button class="btn btn-primary w-100" (click)="brokerageBuy()">Buy</button>
      </div>
      <div class="col-md-6" >
        <button class="btn btn-primary w-100" (click)="brokerageSell()">Sell</button>
      </div>
    </div>
  </div>
</section>
