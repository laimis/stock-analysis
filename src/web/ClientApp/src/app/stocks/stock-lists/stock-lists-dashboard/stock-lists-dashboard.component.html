<div>
    <section>
        <form>
            <button type="submit" class="btn btn-primary me-2" (click)="toggleVisibility(addNewListSection)">Create new list</button>
            <button type="submit" class="btn btn-primary me-2" (click)="toggleVisibility(lookupTickerSection)">Look up ticker</button>
        </form>
    </section>
    <section #addNewListSection class="visually-hidden">
        <h5>Add new list</h5>
        <form>
            <div class="form-group">
                <label for="newName">Name</label>
                <input class="form-control" type="text" id="newName" name="newName" [(ngModel)]="newName">
            </div>
            
            <div class="form-group">
                <label for="newDescription">Description</label>
                <textarea class="form-control" id="newDescription" name="newDescription" rows="5" [(ngModel)]="newDescription"></textarea>
            </div>

            <button type="button" class="btn btn-primary btn-small" (click)="createList()">Create</button>
        </form>
    </section>

    <section #lookupTickerSection class="visually-hidden">
        <h5>Look up ticker in lists</h5>
        <form>
            <div class="form-group">
                <label for="newName">Filter by ticker</label>
                <input class="form-control" type="text" id="tickerFilter" name="tickerFilter" #tickerFilter (keyup)="filterListByTicker(this.tickerFilter.value)">
            </div>
        </form>    
    </section>
    
    <section>
        <h5>Lists</h5>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Name</th>
                    <th width="400">Description</th>
                    <th>Tickers</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let l of filteredLists">
                    <td>
                        <a [routerLink]="['/stocks', 'lists', l.name]">{{l.name}}</a>
                    </td>
                    <td>
                        <div class="ms-1">{{l.description}}</div>
                        <div>
                            <span class="badge bg-secondary m-1" *ngFor="let t of l.tags">{{t}}</span>
                        </div>
                    </td>
                    <td>
                        {{l.tickers.length}}
                    </td>
                    <td>
                        
                        <a class="btn btn-secondary m-1" href="{{getAnalysisLink(l)}}" target="_blank">Analysis</a>
                        <a class="btn btn-secondary m-1" href="{{getExportLink(l)}}">Export</a>
                        <button type="button" class="btn btn-danger m-1" (click)="deleteList(l)">Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>    
    </section>
    
</div>
