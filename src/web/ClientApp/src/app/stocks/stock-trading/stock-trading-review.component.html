<div>
  <div class="container">
    <div class="row">
      <div class="col"><button (click)="previous()" class="btn btn-primary">Previous</button></div>
      <div class="col text-center">{{currentPosition.ticker}} ({{currentPosition.profit | currency}})</div>
      <div class="col"><button (click)="next()" class="btn btn-primary float-end">Next</button></div>
    </div>
  </div>

  <div class="container mt-2">
    <table class="table table-hover mt-2" *ngIf="currentPosition && simulationResult">
      <thead>
        <tr>
          <th>Outcome type</th>
          <th>Profit</th>
          <th>R/R</th>
          <th>%</th>
          <th>Max Gain</th>
          <th>Max Drawdown</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Actual trade</td>
          <td>{{currentPosition.profit | currency}}</td>
          <td>{{currentPosition.rr | number}}</td>
          <td>{{currentPosition.gainPct | number}}%</td>
          <td>{{simulationResult.maxGainPct | number:'1.0-2'}}%</td>
          <td>{{simulationResult.maxDrawdownPct | number:'1.0-2'}}%</td>
        </tr>
        <tr>
          <td>{{simulationResult.strategyName}}</td>
          <td>{{simulationResult.position.profit | currency}}</td>
          <td>{{simulationResult.position.rr | number}}</td>
          <td>{{simulationResult.position.gainPct | number}}%</td>
          <td></td>
          <td></td>
        </tr>
      </tbody>
    </table>
    <div class="row mt-2">
      <div class="col">
        <app-stock-chart *ngIf="prices"
          [positivePricePoints]="buys(currentPosition)"
          [negativePricePoints]="sells(currentPosition)"
          [prices]=prices>
        </app-stock-chart>
      </div>
    </div>
  </div>
</div>