<div *ngIf="analysis">
    <table class="table table-striped table-hover border">
        <tbody>
            <tr>
                <td>Price</td>
                <td>{{analysis.price | currency}}</td>
            </tr>
            <tr>
                <td>Positive / Negative</td>
                <td [ngClass]="{'text-danger': positiveCount() < negativeCount(), 'text-success': positiveCount() > negativeCount()}">
                    {{ positiveCount() }} / {{ negativeCount() }}
                </td>
            </tr>
        </tbody>
    </table>

    <table class="table table-hover border">
        <tbody>
            <tr *ngFor="let o of analysis.outcomes">
                <td>
                    <span
                        class="badge"
                        [ngClass]="{'bg-success': o.type === 'Positive', 'bg-danger': o.type === 'Negative', 'bg-secondary': o.type === 'Neutral'}">
                        &nbsp;
                    </span>
                </td>
                <td>{{o.key}}</td>
                <td>{{o.value}}</td>
                <td>{{o.type}}</td>
                <td>{{o.message}}</td>
            </tr>
        </tbody>
    </table>

    <table class="table table-hover border mt-3">
        <thead>
            <tr>
                <th>Date</th>
                <th>Price</th>
                <th>Vol</th>
                <th>sma20</th>
                <th>sma50</th>
                <th>sma150</th>
                <th>sm200</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let p of analysis.historicalPrices.prices; let i = index">
                <td>{{p.date | date}}</td>
                <td>{{p.close | currency}}</td>
                <td>{{p.volume | number}}</td>
                <td>{{analysis.historicalPrices.sma.sma20.values[i] | currency}}</td>
                <td>{{analysis.historicalPrices.sma.sma50.values[i] | currency}}</td>
                <td>{{analysis.historicalPrices.sma.sma150.values[i] | currency}}</td>
                <td>{{analysis.historicalPrices.sma.sma200.values[i] | currency}}</td>
            </tr>
        </tbody>
    </table>
</div>

