<div class="mt-2">

    @for (position of positions; track position) {
        <section>
            <h5>
                Position {{ position.opened | date:'shortDate' }}
                @if (position.closed) {
                    <span class="float-end">
                        closed {{ position.closed | date:'shortDate' }} for profit of {{ position.profit | currency }}
                    </span>
                }
            </h5>
            @if (positionChartInformation && position.isOpen) {
                <app-candlestick-chart [chartInformation]="positionChartInformation"></app-candlestick-chart>
            }
            <app-stock-trading-position [position]="position" [quote]="quote" [orders]="orders"
                                        (brokerageOrdersChanged)="ordersChanged.emit($event)"></app-stock-trading-position>
        </section>
    } @empty {
        <div>
            <div class="alert alert-secondary">
                You haven't recorded any stock positions for this stock yet.
            </div>
        </div>
    }
</div>
