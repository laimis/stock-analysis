<div>
  <div *ngIf="!analysis">Loading {{title}}...</div>
  <div *ngIf="analysis">
    <h3 *ngIf="title">{{title}}</h3>
    <table  class="table table-hover striped mb-4">
      <thead>
        <tr>
          <th>Ticker</th>
          <th *ngFor="let key of getKeys(analysis)" class="sort-header" (click)="sort(key)">{{key}}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let s of analysis">
          <td>
            <a [routerLink]="['/stock', s.ticker]">{{s.ticker}}</a>
          </td>
          <td *ngFor="let o of s.outcomes"
            [ngClass]="{'text-end': true, 'text-success': o.type === 'Positive', 'text-danger': o.type === 'Negative'}" class="text-end">{{o.value }}</td>
        </tr>
      </tbody>
    </table>
    
  </div>
</div>
