<div *ngIf="!loaded">
  Loading...
</div>

<div class="tab-container mt-2" *ngIf="loaded">
  <a class="tab" [ngClass]="{'is-active': isActive('open')}" [routerLink]="" (click)="activateTab('open')">
    Open Positions
  </a>
  <a class="tab" [ngClass]="{'is-active': isActive('brokerage')}" [routerLink]="" (click)="activateTab('brokerage')">
    Brokerage
    <span *ngIf="optionsContainer.brokeragePositions && optionsContainer.brokeragePositions.length > 0" class="badge rounded-pill bg-info">
      {{optionsContainer.brokeragePositions.length}}
    </span>
  </a>
  <a class="tab" [ngClass]="{'is-active': isActive('closed')}" [routerLink]="" (click)="activateTab('closed')">
    Past Trades
  </a>
  <a class="tab" [ngClass]="{'is-active': isActive('performance')}" [routerLink]="" (click)="activateTab('performance')">
    Performance
  </a>
</div>

<app-option-brokerage-positions *ngIf="loaded && isActive('brokerage')" [positions]="optionsContainer.brokeragePositions"></app-option-brokerage-positions>
<app-option-open *ngIf="loaded && isActive('open')" [openOptions]=optionsContainer.open (positionsUpdated)="refreshPositions()"></app-option-open>
<app-option-closed *ngIf="loaded && isActive('closed')" [closedOptions]=optionsContainer.closed></app-option-closed>
<app-option-performance *ngIf="loaded && isActive('performance')"
  [overallStats]="optionsContainer.overallStats"
  [buyStats]="optionsContainer.buyStats"
  [sellStats]="optionsContainer.sellStats">
</app-option-performance>
